"""
Autogenerated Unit Test by Code Craft Sage
Proposal: {{ proposal_id }}
Change: {{ attribute_name }} {{ old_value }} â†’ {{ new_value }}
Generated: {{ timestamp }}
"""

import pytest

{%- if module_path %}
from {{ module_path }} import {{ class_name }}
{%- endif %}


def test_{{ attribute_name }}_updated_to_{{ new_value|replace('.', '_') }}():
    """
    Unit Test: Validates that {{ attribute_name }} was updated to {{ new_value }}.
    
    This test ensures the parameter change was applied correctly.
    """
    obj = {{ class_name }}()
    assert obj.{{ attribute_name }} == {{ new_value }}, \
        f"Expected {{ attribute_name }} to be {{ new_value }}, got {obj.{{ attribute_name }}}"


def test_{{ attribute_name }}_type_is_{{ data_type }}():
    """
    Unit Test: Validates that {{ attribute_name }} has correct type.
    
    This test ensures type consistency after modification.
    """
    obj = {{ class_name }}()
    actual_value = obj.{{ attribute_name }}
    
    {%- if data_type == "float" %}
    assert isinstance(actual_value, (float, int)), \
        f"Expected {{ attribute_name }} to be float/int, got {type(actual_value)}"
    {%- elif data_type == "int" %}
    assert isinstance(actual_value, int), \
        f"Expected {{ attribute_name }} to be int, got {type(actual_value)}"
    {%- elif data_type == "str" %}
    assert isinstance(actual_value, str), \
        f"Expected {{ attribute_name }} to be str, got {type(actual_value)}"
    {%- elif data_type == "bool" %}
    assert isinstance(actual_value, bool), \
        f"Expected {{ attribute_name }} to be bool, got {type(actual_value)}"
    {%- else %}
    # Generic type check
    pass
    {%- endif %}


{%- if validation_rules and validation_rules.min is defined and validation_rules.max is defined %}
def test_{{ attribute_name }}_within_valid_range():
    """
    Unit Test: Validates that {{ attribute_name }} is within allowed range.
    
    Range: [{{ validation_rules.min }}, {{ validation_rules.max }}]
    """
    obj = {{ class_name }}()
    value = obj.{{ attribute_name }}
    
    assert {{ validation_rules.min }} <= value <= {{ validation_rules.max }}, \
        f"{{ attribute_name }} value {value} is outside valid range [{{ validation_rules.min }}, {{ validation_rules.max }}]"
{%- endif %}
